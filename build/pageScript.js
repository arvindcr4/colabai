document.addEventListener("setMonacoValue",function(e){const t=document.querySelector("colab-shaded-scroller").querySelectorAll(".cell");Array.from(t).find(t=>t.getAttribute("id")===e.detail.id).setText(e.detail.content)}),document.addEventListener("diffMonacoValue",function(e){const t=document.querySelector("colab-shaded-scroller").querySelectorAll(".cell"),o=Array.from(t).find(t=>t.getAttribute("id")===e.detail.id);let n=[];function l(){const t=o.querySelectorAll(".view-line");if(0===t.length)return;let n=0;e.detail.diff.forEach(e=>{const o=e.added?"bg-green-800":e.removed?"bg-red-800":"";if(o){for(let l=n;l<n+e.count&&l<t.length;l++)t[l].classList.contains(o)||t[l].classList.add(o);n+=e.count}else n+=e.count})}e.detail.diff.forEach(e=>{n.push(e.value.replace(/\n$/,""))}),o.setText(n.join("\n")),o.setAttribute("data-diff","false"),setTimeout(l,100);const c=new MutationObserver(e=>{if(e.some(e=>"childList"===e.type||"attributes"===e.type&&"class"===e.attributeName)&&l(),e.some(e=>"attributes"===e.type&&"data-diff"===e.attributeName&&"false"===e.target.getAttribute("data-diff")))return c.disconnect(),void o.querySelectorAll(".view-line").forEach(e=>e.classList.remove("bg-green-800","bg-red-800"))});c.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","data-diff"],characterData:!1})}),document.addEventListener("getMonacoValue",function(e){const t=document.querySelector("colab-shaded-scroller").querySelectorAll(".cell"),o=Array.from(t).find(t=>t.getAttribute("id")===e.detail.id).getText(),n=new CustomEvent("monacoValue",{detail:{value:o}});document.dispatchEvent(n)}),document.addEventListener("getContent",function(e){const t=document.querySelectorAll(".cell"),o=[];t.forEach((e,t)=>{const n=e.classList.contains("code")?"code":"markdown",l=e.getText(),c=e.getAttribute("id");o.push({id:c,type:n,content:l})});const n=new CustomEvent("contentValue",{detail:{content:o}});document.dispatchEvent(n)}),document.addEventListener("deleteCell",function(e){const t=document.querySelector("colab-notebook-toolbar").notebook,o=t.getCells().filter(t=>`cell-${t.getId()}`===e.detail.id)[0];t.removeCells([o])});